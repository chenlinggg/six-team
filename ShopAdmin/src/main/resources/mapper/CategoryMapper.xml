<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hnhs.dao.CategoryMapper">
    <select id="selectAll" resultType="category">
        select * from 202_category
    </select>
    <select id="select" resultType="category">
        select id,name,img,seq,status,parentId,lastUpdateBy,lastUpdateTime
        from 202_category
      <!--  where id =#{id} and name =#{name}-->
        <where>
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="ids != null">
                and id in
                <foreach collection="ids" item="item" separator="," open="(" close=")">
                    #{item}
                </foreach>
            </if>

            <if test="name != null">
                and name like concat('%',#{name},'%')
            </if>
            <if test="status != null">
                and status = #{status}
            </if>
            <if test="parentId != null">
                and parentId = #{parentId}
            </if>
        </where>
    </select>
    <insert id="insert"  parameterType="category">
        insert 202_category(name,img,seq,parentId,lastUpdateBy)
        values (#{name},#{img},#{seq},#{parentId},#{lastUpdateBy})

    </insert>
    <update id="update">
        update 202_category set name=#{name},img=#{img},seq=#{seq},parentId=#{parentId},lastUpdateBy=#{lastUpdateBy}
        where id=#{id}

    </update>
    <!--删除：-->
    <update id="updateStatus">
        update 202_category set status=#{status} where id=#{id}

    </update>
</mapper>